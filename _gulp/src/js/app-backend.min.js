"use strict";Vue.component("crud-filters",{props:["filters","translation","locale"],template:"#crud-filters",data:function(){return{pickers:{}}},methods:{filterItems:function(){this.$root.getItems()},closePicker:function(t){this.pickers[t]=!1},clearPicker:function(t){this.filters[t].value="",this.pickers[t]=!1}},mounted:function(){for(var t in console.log(this.locale),this.filters)"date"===t.type&&(this.pickers[t.name]=!1)}});var NiceModulesCrudApp={debug:!0,run:function(t){this.vuetify(t.crud)},log:function(t){this.debug&&console.log(t)},vuetify:function(t){var o=this;o.vue=new Vue({el:"#nm-crud",vuetify:new Vuetify({theme:{dark:!1},lang:{locales:{lc:t.translation},current:"lc"}}),data:{app:o,editedItem:{},editDialog:!1,items:[],fields:t.fields,headers:t.headers,count:0,options:t.CrudOptions,loading:!1,filters:t.filters,translation:t.translation,locale:t.locale},beforeMount:function(){},methods:{editItem:function(t){this.editedItem=t||{},this.editDialog=!this.editDialog},filterItems:function(){alert("implement filter")},saveItem:function(t){},deleteItem:function(t){var e=t.id,t=this.items.findIndex(function(t){return t.id===e});confirm("Are you sure you want to delete this?")&&this.items.splice(t,1)},getItems:function(){var i=this;this.loading=!0,o.log("CRUD options: "),o.log(i.options),o.log("Crud filters: "),o.log(t.filters),o.log("CRUD uris: "),o.log(t.uris),jQuery.ajax({url:t.uris.getItems,data:{options:JSON.stringify(i.options),filters:JSON.stringify(i.filters)},type:"POST",dataType:"json",success:function(t){i.loading=!1,i.items=t.items,i.count=t.count,console.log(t.count)},error:function(t,e){i.handleAjaxError(t,e)}})},handleAjaxError:function(t,e){var i="";0===t.status?i="Not connected.\n Verify Network.":404==t.status?i="Requested page not found. [404]":500==t.status?i="Internal Server Error [500]":"parsererror"===e?i="Requested JSON parse failed":"timeout"===e?i="Time out error.":"abort"===e&&(i="Ajax request aborted."),i=i+", Response text: "+t.responseText,o.log(i)}},watch:{options:{handler:function(){this.getItems()},deep:!0},items:{handler:function(t,e){},deep:!0}}})}};